language: java
dist: trusty
before_script: cd api/
script: if [[ "$TRAVIS_JDK_VERSION" == "openjdk6" ]]; then mvn test -Ptest -Dhttps.protocols=TLSv1 -DmessageBirdAccessKey=test_iQpAp0KCs5GCsMpDhIx2leuNB -DmessageBirdMSISDN=31612345678; else mvn test -Ptest -Dhttps.protocols=TLSv1.2 -DmessageBirdAccessKey=test_iQpAp0KCs5GCsMpDhIx2leuNB -DmessageBirdMSISDN=31612345678; fi
addons:
  apt:
    packages:
      - openjdk-6-jdk
jdk:
  - oraclejdk7
  - oraclejdk8
  - oraclejdk9
  - openjdk6
  - openjdk7
  - openjdk8
matrix:
  include:
    - jdk: oraclejdk7
      dist: precise
  allow_failures:
    - jdk: openjdk6
